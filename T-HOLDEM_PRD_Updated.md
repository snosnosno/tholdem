# T-HOLDEM 플랫폼 – 제품 요구사항 문서 (PRD) v2.0

## 개요 및 배경

T-HOLDEM은 텍사스 홀덤 토너먼트 운영 플랫폼으로, 대회 운영에 필요한 구인/구직 관리, 현장 출석 체크, 급여 정산 등을 한 곳에서 처리한다. 이 플랫폼은 세 가지 주요 사용자 유형(운영자, 구인자, 구직자)을 중심으로 설계되었다. 

기존에는 홀덤 대회 주최 측(매장 관리자)이 신뢰할 수 있는 딜러 등 스태프를 찾고 일정 관리를 하는 데 많은 시간이 소요되고, 출석 및 근무시간을 수기로 관리하여 오류와 누락이 발생하는 문제가 있었다. T-HOLDEM은 이러한 문제를 해결하고 효율성을 높이기 위해 개발되었으며, 자동화된 매칭과 출퇴근 기반 급여 계산 등의 핵심 기능을 제공한다.

**현재 구현 상태**: React 18 + TypeScript + Firebase 기반으로 완전히 구현되어 있으며, 엑셀 방식 교대 관리 시스템, QR 코드 출석 체크, 구인공고 관리 시스템 등 핵심 기능이 모두 동작 중이다.

## 사용자 유형 및 문제 정의

플랫폼의 주요 사용자와 그들이 직면한 과제는 다음과 같다:

| 사용자 유형 | 설명 및 역할 | 주요 과제/필요 | 솔루션 (플랫폼 제공 기능) |
|-------------|-------------|----------------|-------------------------|
| **운영자 (관리자)** | 플랫폼을 총괄 관리하고 시스템을 운영하는 관리자 | - 전체 시스템의 원활한 운영 및 모니터링<br>- 사용자 분쟁이나 예외 상황 처리<br>- 데이터 통계 및 유지보수 | - 관리자 대시보드로 실시간 모니터링<br>- 계정 및 콘텐츠 관리 툴 제공<br>- 로그 및 통계 확인 기능 |
| **구인자 (매장/주최 측)** | 홀덤 매장 관리자 또는 토너먼트 주최자 (고용 측) | - 신속하게 적합한 딜러/스태프 채용<br>- 채용 후 근무 일정과 출석 관리<br>- 근무 시간에 따른 정확한 급여 정산 | - 구인 공고 등록 및 지원 관리 시스템<br>- 자동 매칭으로 적합 인재 추천<br>- QR코드 출석체크로 실시간 근태관리<br>- 출퇴근 시간 기반 급여 산정 자동화 |
| **구직자 (딜러/스태프)** | 프리랜서 딜러 또는 현장 진행 요원 등 (피고용 측) | - 편리하게 일자리 탐색 및 지원<br>- 자신의 경력/선호에 맞는 일자리 매칭<br>- 근무 후 정당한 급여 수령 및 기록 관리 | - 일자리 목록 열람 및 검색/필터<br>- 원클릭 지원 및 프로필 기반 자동 매칭 제안<br>- 출석 QR 체크인/아웃으로 출퇴근 기록<br>- 마이페이지에서 근무 이력과 급여 확인 |

위 표에서 보듯 구인자는 빠르고 효율적인 채용과 현장 관리를 필요로 하고, 구직자는 손쉬운 구직 과정과 근태/급여 신뢰성을 원한다. 운영자는 플랫폼 전체의 신뢰성과 원활한 기능 수행을 보장해야 한다. T-HOLDEM은 이러한 각각의 요구사항을 충족하도록 설계되었다.

## 주요 기능 및 특징

T-HOLDEM 플랫폼은 토너먼트 현장 스태핑 업무를 자동화하고 운영 효율을 높이는 여러 핵심 기능들을 제공한다. 주요 기능은 다음과 같다:

### 1. 구인/구직 매칭 시스템 ✅ **구현 완료**
구인자는 대회 일정, 필요한 스태프 역할, 보수 등을 포함한 구인 공고를 등록할 수 있다. 구직자는 공고를 보고 지원 신청을 할 수 있으며, 시스템은 자동 매칭 알고리즘으로 구인자에게 적합한 지원자를 추천한다. 이 기능을 통해 인력 수급의 미스매치 문제를 완화하고, 최적의 후보를 신속히 찾을 수 있다.

**구현된 기능**:
- JobPosting 시스템: 완전히 모듈화된 구인공고 관리
- 템플릿 시스템: 공고 템플릿 저장/불러오기
- 일자별 요구사항: 복잡한 대회 일정에 대응
- 사전질문 시스템: 지원자 선별을 위한 질문 관리
- 자동 매칭: 프로필 기반 적합도 점수 계산

### 2. 엑셀 방식 교대 관리 시스템 ✅ **구현 완료**
딜러들의 교대 스케줄을 엑셀과 유사한 그리드 형태로 관리하는 시스템이다. 10분/20분/30분/60분 간격으로 설정 가능하며, 실시간 편집과 검증 기능을 제공한다.

**구현된 기능**:
- react-data-grid 기반 엑셀형 그리드
- 실시간 셀 편집 및 드롭다운 선택
- 테이블 배정 상태별 색상 구분
- 검증 시스템: 중복 배정, 연속 근무, 휴식 시간 검증
- 근무기록 자동 생성

### 3. QR 코드 기반 출석 체크 ✅ **구현 완료**
대회 당일 현장 출석 관리를 위해 QR 코드를 활용한다. 구인자는 이벤트마다 고유한 QR 코드를 생성하여 현장에 게시하고, 구직자(딜러)는 자신의 휴대전화로 해당 코드를 스캔하여 체크인/체크아웃을 수행한다.

**구현된 기능**:
- 실시간 QR 코드 스캔
- Firebase Functions를 통한 서버 사이드 검증
- 스케줄 기반 예상 근무시간과 실제 QR 기록 비교
- 예외 처리: 수동 출석 체크, 네트워크 오류 대응

### 4. 출퇴근 시간 기반 급여 관리 ✅ **구현 완료**
스태프의 근무 시작/종료 시각을 자동으로 기록하여 총 근무 시간을 계산하고, 사전에 설정된 시급 또는 일급 페이율을 적용해 급여를 산정한다.

**구현된 기능**:
- 자동 급여 계산 시스템
- 근무시간 기반 정확한 급여 산정
- 야간수당/연장수당 자동 계산
- 급여 내역 투명한 확인 시스템

### 5. 스태프 관리 시스템 ✅ **구현 완료**
역할 기반 사용자 관리와 딜러 로테이션 시스템을 제공한다.

**구현된 기능**:
- 역할 기반 사용자 관리 (Admin, Manager, Dealer)
- 엑셀형 인라인 편집 시스템
- 11개 컬럼 스태프 관리 (이름, 역할, 이메일, 성별, 나이, 경력, 국적, 이력, 기타사항 등)
- 드롭다운 정렬 시스템 (18개 정렬 옵션)
- 대량 작업 처리 기능

## 사용자 흐름 시나리오

주요 사용자(구인자, 구직자)를 중심으로 T-HOLDEM 플랫폼을 통한 홀덤 토너먼트 스태프 모집부터 대회 완료까지의 흐름은 다음과 같다:

### 1) 구인자 – 공고 작성 ✅ **구현 완료**
토너먼트를 개최하는 매장 운영자(구인자)는 대회 일정, 위치, 필요한 딜러 수와 자격, 보수 등의 내용을 입력하여 구인 공고를 등록한다. 

**구현된 기능**:
- JobPostingForm: 완전한 공고 작성 폼
- TimeSlotManager: 시간대 및 역할 관리
- DateSpecificRequirements: 일자별 특화 요구사항
- PreQuestionManager: 사전질문 관리
- Template 시스템: 공고 템플릿 저장/불러오기

### 2) 구직자 – 일자리 검색 및 지원 ✅ **구현 완료**
프리랜서 딜러/스태프(구직자)는 플랫폼에 로그인 후 구인 공고 목록에서 원하는 조건(일정, 지역, 페이 등)을 검색/필터링하여 관심 있는 대회 공고를 찾는다.

**구현된 기능**:
- JobBoardPage: 구인공고 목록 및 검색
- 무한 스크롤 지원
- 고급 필터링 (지역, 유형, 날짜, 역할)
- 지원 상태 실시간 확인

### 3) 매칭 및 채용 확정 ✅ **구현 완료**
공고 마감일까지 지원자가 모이면, 구인자는 플랫폼이 제공하는 지원자 목록 및 매칭 점수를 확인한다.

**구현된 기능**:
- ApplicantListTab: 지원자 관리 인터페이스
- 자동 매칭 점수 계산
- 지원자 상태 관리 (지원/확정/거절)
- 다중 시간대 선택 지원

### 4) 대회 당일 – 출석 체크 ✅ **구현 완료**
채용된 딜러/스태프들은 대회 시간에 맞춰 현장에 도착한다. 현장 입구 또는 대기실에는 QR 코드가 게시되어 있으며, 스태프들은 각자 휴대폰으로 앱 내 "출석 체크" 기능을 실행해 해당 QR을 스캔한다.

**구현된 기능**:
- QRScannerModal: QR 코드 스캔 모달
- 실시간 출석 상태 확인
- 예외 처리: 수동 출석 체크, 네트워크 오류 대응
- 출석 기록 자동 저장

### 5) 사후 처리 – 근무 시간 확인 및 급여 정산 ✅ **구현 완료**
대회 종료 후 혹은 근무 교대 시점에, 구인자는 플랫폼의 근태 관리 페이지에서 각 스태프의 출퇴근 시간 기록과 총 근무시간을 검토한다.

**구현된 기능**:
- PayrollProcessingTab: 급여 처리 인터페이스
- 자동 급여 계산
- 근무시간 기반 정확한 급여 산정
- 급여 내역 투명한 확인

### 6) 피드백 및 기록 ✅ **구현 완료**
마지막으로 구인자와 구직자 모두 서로에 대한 후기나 평점을 등록할 수 있다.

**구현된 기능**:
- 평판 시스템 기반
- 매칭 알고리즘 개선을 위한 데이터 축적
- 완료된 공고 아카이브 처리

## 문제 해결 포인트 및 기대 효과

T-HOLDEM 플랫폼은 기존 프로세스의 비효율을 개선하고 여러 문제점을 해결함으로써 다음과 같은 효과를 기대할 수 있다:

### 인력 매칭 효율화 ✅ **달성**
과거에는 인맥이나 여러 채널을 통해 수동으로 딜러를 구해야 했지만, T-HOLDEM의 자동 매칭 시스템은 구인 조건에 맞는 후보를 신속하게 탐색 및 추천하여 채용 시간을 단축시킨다.

### 운영 업무 자동화로 인한 정확성 향상 ✅ **달성**
스태프 채용이 확정되면 명단을 일일이 옮겨 적을 필요 없이 운영 시스템에 자동 등록되므로 휴먼에러를 방지하고 최신 정보가 실시간 반영된다.

### 출석 관리의 간소화 및 신뢰성 ✅ **달성**
QR 코드 출석체크를 도입함으로써 종이나 구두보고 대신 빠르고 정확한 출석 기록을 남긴다. 한 번의 스캔으로 출석 데이터가 저장되고 누적되어, 지루한 수기 작업과 오류를 제거한다.

### 정확한 급여 계산과 투명성 ✅ **달성**
출퇴근 시간이 자동 기록되고 급여가 계산되어 임금 착오를 예방한다. 스태프는 자신의 근무시간이 어떻게 집계되고 얼마의 보수가 책정되었는지 투명하게 확인할 수 있어 신뢰도가 높아진다.

### 향상된 사용자 경험과 플랫폼 신뢰성 ✅ **달성**
구직자 입장에서는 앱을 통해 간편하게 여러 일자리에 지원하고 현장에서 원터치로 근태체크를 할 수 있어 편의성이 높다. 구인자도 한 플랫폼 안에서 채용부터 정산까지 모두 처리함으로써 업무가 단순화되고, 플랫폼에 대한 충성도가 높아질 것으로 기대된다.

## 기술적 구현 현황

### 아키텍처 ✅ **완전 구현**
- **Frontend**: React 18 + TypeScript + Tailwind CSS
- **Backend**: Firebase (Firestore + Functions + Auth)
- **상태 관리**: React Context + React Query
- **UI 컴포넌트**: react-data-grid, DaisyUI, Heroicons

### 핵심 컴포넌트 ✅ **모든 기능 구현**
- **JobPosting 모듈**: 완전히 모듈화된 구인공고 관리 시스템
- **ShiftGridComponent**: 엑셀 방식 교대 관리 그리드
- **QRScannerModal**: QR 코드 출석 체크
- **StaffManagementTab**: 스태프 관리 시스템
- **PayrollProcessingTab**: 급여 처리 시스템

### 데이터베이스 구조 ✅ **완전 설계 및 구현**
- **jobPostings**: 구인공고 데이터
- **applications**: 지원 내역
- **staff**: 스태프 정보
- **shiftSchedules**: 교대 스케줄
- **workLogs**: 근무 기록
- **attendanceRecords**: 출석 기록

### 보안 및 권한 관리 ✅ **구현 완료**
- 역할 기반 접근 제어 (Admin, Manager, Dealer)
- Firebase Security Rules 적용
- 사용자 인증 및 세션 관리

## 성능 최적화 현황

### React 최적화 ✅ **적용 완료**
- `useMemo`/`useCallback`을 통한 메모이제이션
- `React.lazy`를 통한 코드 스플리팅
- 불필요한 리렌더링 방지

### Firebase 최적화 ✅ **적용 완료**
- 복합 인덱스 설정
- 배치 작업을 통한 Firestore 쓰기 최적화
- 실시간 리스너 적절한 해제

### 번들 최적화 ✅ **적용 완료**
- Tree shaking을 통한 미사용 코드 제거
- 이미지 최적화
- 중요하지 않은 리소스의 지연 로딩

## 다국어 지원 ✅ **구현 완료**

### 지원 언어
- **한국어** (ko/): 기본 언어
- **영어** (en/): 국제 사용자 지원

### 번역 파일
- **translation.json**: 공통 번역 파일
- **i18next** 설정으로 실시간 언어 변경 지원

## 개발 및 배포 환경 ✅ **완전 구축**

### 개발 환경
- **개발 서버**: React 개발 서버
- **Firebase 에뮬레이터**: 로컬 개발 환경
- **통합 개발 환경**: npm run dev

### 배포 환경
- **프로덕션 빌드**: npm run build
- **Firebase 배포**: firebase deploy
- **자동화된 배포 스크립트**: deploy_functions.bat

## 결론

T-HOLDEM 플랫폼은 홀덤 토너먼트 운영의 핵심 문제들을 기술적으로 해결하여, 인력 매칭의 효율화, 현장 운영의 디지털화, 정산의 자동화를 이룸으로써 사용자들에게 신뢰성과 편의성을 제공하는 것을 목표로 한다.

**현재 상태**: 모든 핵심 기능이 완전히 구현되어 있으며, 실제 운영 가능한 상태이다. 엑셀 방식 교대 관리, QR 코드 출석 체크, 구인공고 관리, 급여 정산 등 모든 주요 기능이 동작하고 있다.

**향후 계획**: 
1. 사용자 피드백 기반 UI/UX 개선
2. 추가 기능 개발 (알림 시스템, 평판 시스템 등)
3. 성능 최적화 및 안정성 향상
4. 사용자 확대 및 서비스 운영

---

**문서 버전**: 2.0  
**최종 업데이트**: 2025년 1월  
**프로젝트 상태**: 완전 구현 완료, 운영 준비 완료  
**기술 스택**: React 18 + TypeScript + Firebase + Tailwind CSS