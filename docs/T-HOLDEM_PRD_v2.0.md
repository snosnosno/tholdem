# T-HOLDEM 플랫폼 v2.0 - 제품 요구사항 문서 (PRD)

## 📋 문서 개요

**문서 버전**: 2.0  
**작성일**: 2025-01-08  
**작성자**: T-HOLDEM Development Team  
**문서 목적**: T-HOLDEM 플랫폼의 현재 구현 상태와 향후 방향성을 정의한 종합 제품 요구사항 문서

### 변경 이력
- v1.0 (2024-XX-XX): 초기 PRD 작성
- v2.0 (2025-01-08): 현재 구현 상태 반영, 간소화된 정산 시스템, 성능 최적화 내용 추가

---

## 🎯 제품 개요

### 제품 정의
**T-HOLDEM은 텍사스 홀덤 토너먼트 운영을 위한 통합 관리 플랫폼입니다.** 딜러 채용부터 현장 운영, 정산까지 토너먼트 운영의 전 과정을 디지털화하여 효율성을 극대화합니다.

### 핵심 가치 제안
1. **운영 효율화**: 수작업 관리를 자동화하여 운영 시간 80% 단축
2. **실시간 관리**: QR 코드 기반 출석 체크와 실시간 모니터링
3. **투명한 정산**: 근무 시간 자동 계산으로 정산 분쟁 예방
4. **통합 플랫폼**: 채용-운영-정산을 하나의 시스템에서 관리

### 제품 현황
- **개발 단계**: Production 운영 중
- **기술 스택**: React 18 + TypeScript + Firebase
- **성능 지표**: 
  - 번들 크기: 890KB (44% 최적화)
  - 초기 로딩: 2.0초 (43% 개선)
  - Lighthouse 점수: 91/100

---

## 👥 타겟 사용자

### 주요 사용자 그룹

#### 1. 운영자 (Admin)
- **역할**: 플랫폼 총괄 관리자
- **주요 기능**:
  - CEO 대시보드를 통한 전체 현황 모니터링
  - 사용자 권한 관리
  - 시스템 설정 및 유지보수
  - 성능 모니터링 및 최적화

#### 2. 매니저 (Manager)
- **역할**: 토너먼트 주최자/매장 관리자
- **주요 기능**:
  - 구인 공고 등록 및 관리
  - 지원자 검토 및 채용
  - 스태프 출석 관리
  - 간편 정산 처리

#### 3. 스태프 (Staff/Dealer)
- **역할**: 딜러 및 현장 운영 인력
- **주요 기능**:
  - 구인 공고 열람 및 지원
  - QR 코드 출퇴근 체크
  - 근무 일정 확인
  - 정산 내역 조회

---

## 🚀 핵심 기능

### 1. 구인/구직 시스템

#### 1.1 구인 공고 관리
- **공고 등록**: 토너먼트 정보, 필요 인원, 시급 등 설정
- **지원자 관리**: 지원자 목록 실시간 확인
- **채용 프로세스**: 원클릭 채용 확정 및 알림
- **상태 관리**: 모집중/마감 상태 자동 전환

#### 1.2 지원 시스템
- **공고 탐색**: 필터링 및 검색 기능
- **간편 지원**: 프로필 기반 원클릭 지원
- **지원 현황**: 실시간 상태 추적
- **알림 시스템**: 채용 결과 즉시 알림

### 2. 스태프 관리 시스템

#### 2.1 출석 관리
- **QR 체크인/아웃**: 모바일 기반 간편 출퇴근
- **실시간 모니터링**: 관리자 대시보드
- **예외 처리**: 수동 체크 옵션 제공
- **날짜별 그룹화**: 일자별 출석 현황 관리

#### 2.2 근무 시간 관리
- **자동 기록**: 출퇴근 시간 자동 저장
- **workLogs 시스템**: 날짜별 독립적 시간 관리
- **유연한 수정**: 관리자 권한으로 시간 조정
- **실시간 동기화**: Firebase onSnapshot 구독

### 3. 간편 정산 시스템 (v2.0 신규)

#### 3.1 단순 계산 기능
- **시간 × 시급**: 복잡한 계산 없이 단순 곱셈
- **일급/월급 계산**: 기본 급여 정보 제공
- **직무별 기본 시급**: 딜러, 플로어, 칩러너별 설정
- **투명한 내역**: 스태프별 정산 내역 조회

#### 3.2 정산 관리
- **일괄 처리**: 이벤트 단위 일괄 정산
- **CSV 내보내기**: 외부 급여 시스템 연동
- **이력 관리**: 모든 정산 기록 보존
- **실시간 계산**: 근무 시간 변경 시 자동 재계산

### 4. 토너먼트 운영

#### 4.1 대회 관리
- **블라인드 설정**: 레벨별 블라인드 구조
- **테이블 관리**: 실시간 테이블 배치
- **참가자 관리**: 등록 및 좌석 배정
- **상금 구조**: 순위별 상금 설정

#### 4.2 실시간 운영
- **라이브 대시보드**: 진행 상황 실시간 모니터링
- **공지사항**: 즉시 전달 시스템
- **이력 관리**: 모든 운영 로그 저장

---

## 💻 기술 아키텍처

### Frontend
- **Framework**: React 18.3.1
- **Language**: TypeScript (Strict Mode)
- **Styling**: Tailwind CSS 3.4.1
- **State Management**: 
  - Context API (Auth, Tournament)
  - Zustand (Toast, JobPosting)
- **Performance**:
  - React.memo 최적화
  - Code Splitting (React.lazy)
  - Virtual Scrolling (react-window)

### Backend
- **Platform**: Firebase
- **Services**:
  - Authentication (이메일, 소셜 로그인)
  - Firestore (실시간 데이터베이스)
  - Storage (파일 저장)
  - Functions (서버리스 함수) - 최소 사용
- **Architecture**:
  - 실시간 구독 (onSnapshot) 우선
  - 직접 Firestore 쿼리 방식
  - 컬렉션별 독립적 데이터 구조

### 데이터 구조
```typescript
// 주요 컬렉션
- users: 사용자 정보
- jobPostings: 구인 공고
- applications: 지원 정보
- staff: 스태프 기본 정보
- workLogs: 날짜별 근무 기록 (핵심)
- attendanceRecords: 출석 상태
- tournaments: 토너먼트 정보
```

### 성능 최적화
- **번들 크기**: 1.6MB → 890KB (44% 감소)
- **초기 로딩**: 3.5초 → 2.0초 (43% 개선)
- **라이브러리 최적화**:
  - FullCalendar → LightweightCalendar
  - react-icons → @heroicons/react
  - react-dnd → @dnd-kit
- **Firebase 구독**: 9개 → 5개 (44% 감소)

### 보안
- **인증**: Firebase Auth 기반 다단계 인증
- **권한**: 역할 기반 접근 제어 (RBAC)
- **데이터 보호**: 
  - CSP (Content Security Policy)
  - XSS 방지 (DOMPurify)
  - CSRF 토큰
- **API 키 관리**: 환경 변수 (.env)

---

## 📊 현재 성과

### 정량적 지표
- **채용 시간**: 3-5일 → 1-2일 (60% 단축)
- **출석 관리**: 30분 → 5분 (83% 단축)
- **정산 정확도**: 오류율 15% → 1% 미만
- **코드 품질**:
  - TypeScript Strict Mode 100% 적용
  - 테스트 커버리지 10개 파일
  - ESLint 경고 70개 (개선 중)

### 정성적 성과
- **운영 효율성**: 완전 자동화된 프로세스
- **사용자 만족도**: 직관적 UI/UX
- **확장성**: 모듈화된 구조로 기능 추가 용이
- **유지보수성**: 명확한 코드 구조와 문서화

---

## 🚧 향후 개발 계획

### 단기 (1-2주)
1. **테스트 확대**: 커버리지 50% 달성
2. **ESLint 정리**: 모든 경고 해결
3. **성능 모니터링**: 실시간 대시보드 구축

### 중기 (1개월)
1. **상태 관리 완성**: Zustand 마이그레이션 완료
2. **접근성 개선**: WCAG 2.1 AA 준수
3. **모바일 앱**: React Native 개발

### 장기 (3-6개월)
1. **AI 기능**: 스케줄 자동 최적화
2. **확장**: 다른 카지노 게임 지원
3. **국제화**: 다국어 지원 및 해외 진출

---

## 🛡️ 리스크 관리

### 기술적 리스크
- **Firebase 의존성**: 벤더 락인 리스크
  - 대응: 추상화 레이어 구축
- **성능 병목**: 대용량 데이터 처리
  - 대응: 페이지네이션, 캐싱 전략

### 사업적 리스크
- **경쟁사 진입**: 유사 서비스 출현
  - 대응: 지속적 기능 개선, 사용자 락인
- **법규 변화**: 도박 관련 규제
  - 대응: 법무 검토, 컴플라이언스 강화

---

## 📈 비즈니스 모델

### 수익 구조
1. **구독 모델**: 
   - Basic: 무료 (기본 기능)
   - Pro: 월 99,000원 (무제한 공고)
   - Enterprise: 맞춤 견적

2. **거래 수수료**: 
   - 정산 금액의 2-3%
   - 대량 거래 할인

3. **부가 서비스**:
   - 딜러 교육 프로그램
   - 토너먼트 컨설팅
   - 맞춤 개발

### 시장 전략
- **목표 시장**: 국내 홀덤펍, 카지노
- **확장 전략**: 
  - Phase 1: 서울/경기 지역
  - Phase 2: 전국 확대
  - Phase 3: 동남아 진출

---

## 🎯 성공 지표 (KPI)

### 사용자 지표
- MAU (월간 활성 사용자): 10,000명
- 채용 성공률: 85% 이상
- 사용자 만족도: NPS 50+

### 비즈니스 지표
- MRR (월간 반복 수익): 5억원
- 고객 이탈률: 5% 이하
- CAC/LTV 비율: 1:3 이상

### 기술 지표
- 서비스 가용성: 99.9%
- 응답 시간: 200ms 이하
- 에러율: 0.1% 이하

---

## 📝 부록

### A. 용어 정의
- **딜러**: 카드 게임 진행자
- **플로어**: 현장 관리자
- **칩러너**: 칩 운반 담당
- **블라인드**: 의무 베팅 금액
- **workLogs**: 날짜별 근무 기록 시스템

### B. 참고 문서
- [기술 명세서](./T-HOLDEM_기능명세서_v2.0.md)
- [워크플로우 다이어그램](./T-HOLDEM_워크플로우.md)
- [API 문서](./API_Documentation.md)
- [보안 정책](./Security_Policy.md)

### C. 연락처
- 기술 지원: dev@t-holdem.com
- 비즈니스 문의: business@t-holdem.com
- 고객 지원: support@t-holdem.com

---

**© 2025 T-HOLDEM. All rights reserved.**