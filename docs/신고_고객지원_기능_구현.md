# 신고 및 고객지원 기능 구현

## 📋 개요

T-HOLDEM 플랫폼에 사용자 신고 기능과 고객지원 페이지를 추가하여 플랫폼의 신뢰성과 사용자 만족도를 향상시켰습니다.

**구현 일자**: 2025-09-19
**버전**: v0.2.2+
**담당자**: Claude Code

## 🎯 주요 기능

### 1. 고객지원 페이지 (`SupportPage`)
- **FAQ 섹션**: 자주 묻는 질문 5개 항목
- **문의하기**: 카테고리별 문의 제출 시스템
- **내 문의 내역**: 사용자별 문의 현황 조회

### 2. 신고 시스템 (`ReportModal`)
- **신고 유형**: 지각, 근무태만, 노쇼, 부적절한 행동, 기타
- **양방향 신고**: 구인자 ↔ 구직자 간 상호 신고 가능
- **Firebase 연동**: 실시간 신고 데이터 저장

### 3. 통합 UI 요소
- **스태프 관리 탭**: 구인자용 스태프 신고 버튼
- **스케줄 상세 모달**: 구직자용 구인자 신고 버튼
- **다국어 지원**: 한국어/영어 완전 번역

## 🏗 구현된 파일 목록

### Firebase 타입 정의
```
app2/src/types/
├── report.ts           # 신고 관련 타입 정의
└── inquiry.ts          # 문의 관련 타입 정의
```

### 핵심 컴포넌트
```
app2/src/
├── pages/
│   └── SupportPage.tsx                    # 고객지원 메인 페이지
├── components/
│   ├── modals/
│   │   └── ReportModal.tsx               # 신고 모달 컴포넌트
│   ├── tabs/
│   │   └── StaffManagementTab.tsx        # 스태프 관리 (신고 기능 추가)
│   └── staff/
│       ├── StaffRow.tsx                  # 데스크톱 스태프 행 (신고 버튼)
│       ├── StaffCard.tsx                 # 모바일 스태프 카드
│       ├── StaffCardActions.tsx          # 스태프 액션 버튼들
│       ├── StaffDateGroup.tsx            # 날짜별 그룹 (데스크톱)
│       └── StaffDateGroupMobile.tsx      # 날짜별 그룹 (모바일)
└── pages/MySchedulePage/components/
    └── ScheduleDetailModal.tsx           # 스케줄 상세 (신고 기능 추가)
```

### 라우팅 및 메뉴
```
app2/src/
├── App.tsx                               # 라우팅 추가
└── components/layout/
    └── HeaderMenu.tsx                    # 고객지원 메뉴 추가
```

### 국제화 파일
```
app2/public/locales/
├── ko/translation.json                   # 한국어 번역
└── en/translation.json                   # 영어 번역
```

## 🔄 신고 시스템 워크플로우

### 1. 구인자 → 스태프 신고
```
스태프 관리 탭 → 스태프 목록 → 작업 버튼 → 신고 버튼 클릭
→ ReportModal 열림 → 신고 유형 선택 → 사유 작성 → 제출
→ Firebase 'reports' 컬렉션에 저장
```

### 2. 구직자 → 구인자 신고
```
내 스케줄 → 일정 클릭 → 스케줄 상세 모달 → 신고 버튼 클릭
→ ReportModal 열림 → 신고 유형 선택 → 사유 작성 → 제출
→ Firebase 'reports' 컬렉션에 저장
```

## 🗄 데이터베이스 스키마

### Reports 컬렉션
```typescript
interface Report {
  id: string;                    // 자동 생성 ID
  type: ReportType;             // 신고 유형
  reporterId: string;           // 신고자 ID
  reporterType: ReporterType;   // 신고자 타입 (employer/employee)
  targetUserId: string;         // 신고 대상 ID
  targetUserName: string;       // 신고 대상 이름
  eventId?: string;            // 관련 이벤트 ID (선택)
  eventTitle?: string;         // 관련 이벤트 제목 (선택)
  eventDate?: string;          // 관련 이벤트 날짜 (선택)
  description: string;         // 신고 사유
  status: ReportStatus;        // 처리 상태 (pending/in_progress/resolved)
  createdAt: Timestamp;        // 생성 시간
  updatedAt?: Timestamp;       // 수정 시간
  adminNotes?: string;         // 관리자 메모 (선택)
}
```

### Inquiries 컬렉션
```typescript
interface Inquiry {
  id: string;                  // 자동 생성 ID
  userId: string;             // 문의자 ID
  userEmail: string;          // 문의자 이메일
  category: InquiryCategory;  // 문의 카테고리
  subject: string;            // 문의 제목
  message: string;            // 문의 내용
  status: InquiryStatus;      // 처리 상태
  createdAt: Timestamp;       // 생성 시간
  updatedAt?: Timestamp;      // 수정 시간
  adminResponse?: string;     // 관리자 답변 (선택)
  respondedAt?: Timestamp;    // 답변 시간 (선택)
}
```

## 🌐 국제화 키 구조

### Support 관련
```json
{
  "nav": {
    "support": "고객지원" / "Support"
  },
  "support": {
    "title": "고객지원" / "Customer Support",
    "faq": {
      "title": "자주 묻는 질문" / "Frequently Asked Questions",
      "question1": "...",
      "answer1": "..."
    },
    "inquiry": {
      "title": "문의하기" / "Submit Inquiry",
      "form": { ... }
    },
    "myInquiries": {
      "title": "내 문의 내역" / "My Inquiries",
      ...
    }
  }
}
```

### Report 관련
```json
{
  "report": {
    "title": "신고하기" / "Submit Report",
    "types": {
      "tardiness": "지각" / "Tardiness",
      "negligence": "근무태만" / "Work Negligence",
      "no_show": "노쇼" / "No Show",
      "inappropriate_behavior": "부적절한 행동" / "Inappropriate Behavior",
      "other": "기타" / "Other"
    },
    ...
  }
}
```

## 🎨 UI/UX 특징

### 접근성
- **일관된 디자인**: Tailwind CSS 기반 통일된 스타일
- **반응형 디자인**: 데스크톱 및 모바일 완전 지원
- **아이콘 사용**: FaQuestionCircle (고객지원), 경고 아이콘 (신고)

### 사용성
- **직관적 배치**: 기존 UI 패턴과 일치하는 버튼 배치
- **명확한 피드백**: Toast 알림을 통한 성공/실패 메시지
- **유효성 검사**: 필수 필드 검증 및 오류 메시지

## 🔒 보안 고려사항

### 데이터 보호
- **Firebase Security Rules**: 사용자별 데이터 접근 제한
- **타입 안전성**: TypeScript strict mode 준수
- **입력 검증**: 클라이언트 및 서버 사이드 검증

### 권한 관리
- **인증 확인**: 로그인된 사용자만 신고/문의 가능
- **역할 기반**: 신고자 타입에 따른 구분 (employer/employee)
- **개인정보 보호**: 최소한의 필요 정보만 수집

## 🚀 배포 및 접근

### 라우트
- **고객지원 페이지**: `/app/support`
- **접근 권한**: 모든 인증된 사용자

### 메뉴 위치
- **HeaderMenu**: 내 스케줄 메뉴 바로 아래
- **아이콘**: 물음표 원형 아이콘 (FaQuestionCircle)

## 🧪 테스트 가이드

### 기능 테스트
1. **고객지원 페이지 접근**
   - 로그인 후 좌측 메뉴에서 "고객지원" 클릭
   - FAQ, 문의하기, 내 문의 내역 탭 전환 확인

2. **구인자 신고 기능**
   - 공고 관리 → 스태프 관리 → 스태프 행의 신고 버튼 클릭
   - 신고 모달에서 유형 선택 및 사유 작성 후 제출

3. **구직자 신고 기능**
   - 내 스케줄 → 일정 클릭 → 상세 모달에서 신고 버튼 클릭
   - 신고 모달에서 유형 선택 및 사유 작성 후 제출

### 다국어 테스트
- 언어 전환 시 모든 텍스트 번역 확인
- 한국어/영어 간 UI 레이아웃 일관성 확인

## 📈 향후 개선 사항

### 관리자 기능
- [ ] 신고 관리 대시보드 구현
- [ ] 문의 답변 시스템 구현
- [ ] 신고 처리 워크플로우 자동화

### 사용자 경험
- [ ] 실시간 알림 시스템 연동
- [ ] 신고/문의 상태 추적 기능
- [ ] 첨부파일 업로드 지원

### 분석 및 모니터링
- [ ] 신고 유형별 통계 대시보드
- [ ] 문의 응답 시간 모니터링
- [ ] 사용자 만족도 조사 시스템

## 🔧 기술 스택

- **Frontend**: React 18 + TypeScript
- **상태 관리**: Context API + useState
- **스타일링**: Tailwind CSS
- **백엔드**: Firebase Firestore
- **국제화**: react-i18next
- **아이콘**: React Icons (FontAwesome)

## 📞 지원 및 문의

구현된 기능에 대한 문의사항이나 개선 요청은 다음을 통해 연락 바랍니다:

- **개발팀**: Claude Code
- **프로젝트**: T-HOLDEM v0.2.2+
- **문서 위치**: `/docs/신고_고객지원_기능_구현.md`

---

*이 문서는 2025년 9월 19일에 작성되었으며, 향후 기능 업데이트에 따라 수정될 수 있습니다.*