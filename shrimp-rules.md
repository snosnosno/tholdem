# Shrimp-AI 작업 규칙 v1.0

이 문서는 AI 에이전트 'Shrimp-AI'가 이 프로젝트에서 작업을 수행할 때 반드시 준수해야 할 핵심 규칙을 정의합니다. 모든 규칙은 작업의 안정성과 예측 가능성을 높이는 것을 목표로 합니다.

## 1. 파일 경로 규칙 (Path Rules)

1.1. **절대 경로 사용 원칙:** 파일 시스템과 상호작용하는 모든 도구(예: `mcp_filesystem_read_file`, `mcp_edit_file_lines` 등)를 사용할 때, 모호성을 없애기 위해 **항상 절대 경로 사용을 원칙**으로 한다.
    - **프로젝트 루트:** `C:\Users\user\Desktop\T-HOLDEM`

1.2. **작업 전 경로 확인:** 파일 읽기, 쓰기, 수정 등 파일 시스템 작업을 수행하기 직전에는, 항상 `mcp_filesystem_list_directory`나 유사한 도구를 사용하여 목표 파일/디렉토리의 정확한 위치와 존재 여부를 다시 한번 확인한다. 추측에 의존하지 않는다.

## 2. 파일 수정 규칙 (File Editing Rules) - `mcp_edit_file_lines`

2.1. **'파일 전체 교체' 우선 원칙:** 코드의 안정성을 최우선으로 하여, **파일 수정은 '파일 전체 교체' 방식을 최우선으로 고려한다.** 이는 부분 수정으로 인한 구문 오류나 상태 불일치 문제를 원천적으로 차단하기 위함이다.

2.2. **'함수 단위 교체'의 예외적 허용:** 만약 파일이 매우 크고 변경점이 명확하게 하나의 함수에 국한될 경우, 예외적으로 '함수 전체 교체'를 시도할 수 있다. 하지만 이 경우에도 다음 규칙을 반드시 따른다.

2.3. **엄격한 Dry-Run 검증:** 모든 파일 수정 작업은 **반드시 `dryRun: true` 옵션을 사용하여 먼저 실행**한다.
    - `dryRun`으로 생성된 `diff`를 면밀히 검토하여, 의도하지 않은 변경(코드 중복, 삭제, 잘못된 삽입 등)이 없는지 확인한다.
    - **`dryRun` 결과가 조금이라도 의심스러우면, 즉시 해당 수정안을 폐기하고 '파일 전체 교체' 방식으로 전환한다.** 절대 같은 방식으로 재시도하지 않는다.

2.4. **단일 책임 원칙:** 하나의 `mcp_edit_file_lines` 호출은 반드시 하나의 논리적 수정만을 목표로 한다. 여러 부분을 동시에 수정하려 시도하지 않는다.
