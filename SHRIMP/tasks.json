{
  "tasks": [
    {
      "id": "3a04227d-aa47-460e-967c-4c2f106105df",
      "name": "Phase 1: 단순 정산 계산기 컴포넌트 생성",
      "description": "SimplePayrollCalculator.tsx 컴포넌트와 관련 유틸리티를 생성하여 시간×시급 계산 로직 구현",
      "notes": "기존 workLogs의 WorkLog 인터페이스와 호환되도록 설계. formatCurrency 유틸리티 재사용",
      "status": "pending",
      "dependencies": [],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/components/SimplePayrollCalculator.tsx",
          "type": "CREATE",
          "description": "새 컴포넌트 파일"
        },
        {
          "path": "app2/src/utils/simplePayrollCalculator.ts",
          "type": "CREATE",
          "description": "계산 로직 유틸리티"
        },
        {
          "path": "app2/src/types/simplePayroll.ts",
          "type": "CREATE",
          "description": "타입 정의 파일"
        },
        {
          "path": "app2/src/hooks/useShiftSchedule.ts",
          "type": "REFERENCE",
          "description": "WorkLog 인터페이스 참조"
        }
      ],
      "implementationGuide": "1. app2/src/components/SimplePayrollCalculator.tsx 생성\n2. 입력: 근무시간, 시급\n3. 출력: 일급, 주급, 월급 자동 계산\n4. app2/src/utils/simplePayrollCalculator.ts 생성\n5. 단순 계산 함수: calculateDailyPay(hours, rate)\n6. 집계 함수: aggregatePayroll(dailyPayrolls)\n7. app2/src/types/simplePayroll.ts 생성\n8. SimplePayrollData 인터페이스 정의",
      "verificationCriteria": "1. 시간×시급 계산 정확성 검증\n2. TypeScript 타입 안전성 확인\n3. 컴포넌트 독립 실행 가능 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "d92c6de7-29e4-4055-8fdf-4c5e1f42c3a5",
      "name": "Phase 2: useSimplePayroll Hook 구현",
      "description": "Firebase Functions 대신 workLogs 컬렉션을 직접 조회하는 단순화된 Hook 생성",
      "notes": "기존 usePayrollData.ts 참조하되 PayrollDataGenerator 의존성 제거",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "3a04227d-aa47-460e-967c-4c2f106105df"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/hooks/useSimplePayroll.ts",
          "type": "CREATE",
          "description": "새 Hook 파일"
        },
        {
          "path": "app2/src/hooks/usePayrollData.ts",
          "type": "REFERENCE",
          "description": "패턴 참조용"
        },
        {
          "path": "app2/src/utils/simplePayrollCalculator.ts",
          "type": "DEPENDENCY",
          "description": "계산 로직 사용"
        }
      ],
      "implementationGuide": "1. app2/src/hooks/useSimplePayroll.ts 생성\n2. workLogs 컬렉션 직접 쿼리 구현\n3. Firebase Functions 호출 완전 제거\n4. 쿼리 패턴: query(collection(db, 'workLogs'), where('eventId', '==', eventId))\n5. 계산 로직: simplePayrollCalculator 유틸리티 활용\n6. 반환값: { payrollData, loading, error, summary }",
      "verificationCriteria": "1. workLogs 쿼리 정상 작동 확인\n2. Firebase Functions 호출 없음 확인\n3. 실시간 데이터 업데이트 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "6a86f970-7298-4ab9-b5cd-5379cbd1c0e9",
      "name": "Phase 3: SimplePayrollPage 구현",
      "description": "기존 PayrollPage를 단순화하여 Firebase Functions 의존성을 제거한 새 페이지 생성",
      "notes": "기존 PayrollPage의 UI 레이아웃 최대한 유지",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "d92c6de7-29e4-4055-8fdf-4c5e1f42c3a5"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/pages/SimplePayrollPage.tsx",
          "type": "CREATE",
          "description": "새 페이지 컴포넌트"
        },
        {
          "path": "app2/src/pages/PayrollPage.tsx",
          "type": "REFERENCE",
          "description": "UI 레이아웃 참조"
        },
        {
          "path": "app2/src/hooks/useSimplePayroll.ts",
          "type": "DEPENDENCY",
          "description": "데이터 Hook 사용"
        }
      ],
      "implementationGuide": "1. app2/src/pages/SimplePayrollPage.tsx 생성\n2. PayrollPage.tsx 복사 후 단순화\n3. callFunctionLazy 호출 모두 제거\n4. useSimplePayroll Hook 사용으로 대체\n5. 복잡한 상태 관리 제거 (draft/confirmed/paid)\n6. UI는 기존 스타일 유지하되 단순화",
      "verificationCriteria": "1. 페이지 렌더링 정상 확인\n2. 정산 데이터 표시 확인\n3. Firebase Functions 호출 없음 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "baffdc89-2356-4439-b8d9-dfefc6a16d6c",
      "name": "Phase 4: JobPostingDetailPage 탭 수정",
      "description": "PayrollProcessingTab을 제거하고 선택적으로 SimplePayrollTab 추가",
      "notes": "탭 제거만 하고 새 탭 추가는 선택사항",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "6a86f970-7298-4ab9-b5cd-5379cbd1c0e9"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/pages/JobPostingDetailPage.tsx",
          "type": "TO_MODIFY",
          "description": "탭 배열 수정",
          "lineStart": 50,
          "lineEnd": 60
        },
        {
          "path": "app2/src/components/tabs/PayrollProcessingTab.tsx",
          "type": "REFERENCE",
          "description": "제거 대상"
        }
      ],
      "implementationGuide": "1. app2/src/pages/JobPostingDetailPage.tsx 수정\n2. import PayrollProcessingTab 제거\n3. tabs 배열에서 PayrollProcessingTab 항목 제거\n4. 선택사항: SimplePayrollTab 추가 (필요시)\n5. 관련 import 정리",
      "verificationCriteria": "1. JobPostingDetailPage 정상 렌더링 확인\n2. 다른 탭들 정상 작동 확인\n3. import 에러 없음 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "66805faf-b92d-43d7-9ae4-1c13f79d9da3",
      "name": "Phase 5: 라우팅 시스템 업데이트",
      "description": "App.tsx에서 PayrollPage를 SimplePayrollPage로 교체, PayrollAdminPage 라우트 제거",
      "notes": "lazy loading 패턴 유지",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "6a86f970-7298-4ab9-b5cd-5379cbd1c0e9"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/App.tsx",
          "type": "TO_MODIFY",
          "description": "라우트 정의 수정",
          "lineStart": 27,
          "lineEnd": 122
        },
        {
          "path": "app2/src/pages/SimplePayrollPage.tsx",
          "type": "DEPENDENCY",
          "description": "새 페이지 import"
        }
      ],
      "implementationGuide": "1. app2/src/App.tsx 수정\n2. PayrollPage import를 SimplePayrollPage로 변경\n3. PayrollAdminPage import 제거\n4. Route 컴포넌트 업데이트\n5. /payroll 라우트 → SimplePayrollPage\n6. /admin/payroll 라우트 제거",
      "verificationCriteria": "1. 라우팅 정상 작동 확인\n2. /payroll 경로 접근 가능 확인\n3. /admin/payroll 제거 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "e050669a-1b4b-4330-8ec1-88ddc1c445fb",
      "name": "Phase 6: 미사용 파일 삭제 및 정리",
      "description": "더 이상 사용하지 않는 복잡한 정산 관련 파일들 삭제",
      "notes": "git 히스토리는 유지되므로 필요시 복구 가능",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "66805faf-b92d-43d7-9ae4-1c13f79d9da3"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/src/components/tabs/PayrollProcessingTab.tsx",
          "type": "OTHER",
          "description": "삭제 대상"
        },
        {
          "path": "app2/src/pages/admin/PayrollAdminPage.tsx",
          "type": "OTHER",
          "description": "삭제 대상"
        },
        {
          "path": "app2/src/utils/payroll/PayrollDataGenerator.ts",
          "type": "OTHER",
          "description": "삭제 대상"
        },
        {
          "path": "app2/src/utils/payroll/types.ts",
          "type": "OTHER",
          "description": "삭제 대상"
        }
      ],
      "implementationGuide": "1. 삭제할 파일 목록:\n   - app2/src/components/tabs/PayrollProcessingTab.tsx\n   - app2/src/pages/admin/PayrollAdminPage.tsx\n   - app2/src/utils/payroll/PayrollDataGenerator.ts\n   - app2/src/utils/payroll/types.ts\n   - app2/src/hooks/usePayrollData.ts\n   - app2/src/pages/PayrollPage.tsx (SimplePayrollPage로 대체됨)\n2. git rm으로 안전하게 제거\n3. 삭제 전 백업 확인",
      "verificationCriteria": "1. 빌드 에러 없음 확인\n2. import 에러 없음 확인\n3. 모든 참조 제거 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "2fbd9352-070d-480a-bb16-2c7efb4a9ac6",
      "name": "Phase 7: CLAUDE.md 문서 업데이트",
      "description": "정산 시스템 단순화 내용을 CLAUDE.md에 반영",
      "notes": "한국어로 작성, 날짜 포함",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "e050669a-1b4b-4330-8ec1-88ddc1c445fb"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "CLAUDE.md",
          "type": "TO_MODIFY",
          "description": "프로젝트 문서 업데이트"
        }
      ],
      "implementationGuide": "1. CLAUDE.md 파일 수정\n2. 최근 업데이트 섹션에 정산 단순화 내용 추가\n3. 제거된 기능 명시: 예외처리, 공제/보너스, 상태관리\n4. 새로운 구조 설명: SimplePayrollCalculator, useSimplePayroll\n5. Firebase Functions 의존성 제거 명시\n6. 메모리 섹션 업데이트",
      "verificationCriteria": "1. 문서 정확성 확인\n2. 모든 변경사항 반영 확인\n3. 메모리 섹션 업데이트 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    },
    {
      "id": "ff37f2ea-d9cb-4340-bd0a-12734627f2f8",
      "name": "Phase 8: 통합 테스트 및 검증",
      "description": "전체 시스템 통합 테스트 수행 및 성능 측정",
      "notes": "각 단계별 롤백 가능 확인",
      "status": "pending",
      "dependencies": [
        {
          "taskId": "2fbd9352-070d-480a-bb16-2c7efb4a9ac6"
        }
      ],
      "createdAt": "2025-08-07T21:46:33.292Z",
      "updatedAt": "2025-08-07T21:46:33.292Z",
      "relatedFiles": [
        {
          "path": "app2/package.json",
          "type": "REFERENCE",
          "description": "스크립트 실행"
        }
      ],
      "implementationGuide": "1. 빌드 테스트: npm run build\n2. 타입 체크: npm run type-check\n3. 정산 기능 E2E 테스트\n4. 성능 측정:\n   - Firebase 호출 횟수 확인 (0개)\n   - 페이지 로딩 시간 측정\n   - 번들 크기 변화 확인\n5. 기능 테스트:\n   - 정산 데이터 조회\n   - 시간×시급 계산 정확성\n   - 일별/주별/월별 집계",
      "verificationCriteria": "1. 빌드 성공\n2. 타입 에러 0개\n3. 정산 계산 정확성 100%\n4. Firebase Functions 호출 0개\n5. 번들 크기 감소 확인",
      "analysisResult": "T-HOLDEM 정산 시스템을 복잡한 예외처리/공제/보너스 계산에서 단순한 시간×시급 계산으로 전환. Firebase Functions 의존성 제거, workLogs 데이터 직접 활용, 코드 80% 감소 목표"
    }
  ]
}